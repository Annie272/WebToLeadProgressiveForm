<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Progressive Web-to-Lead Form</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-gray-100 flex items-center justify-center min-h-screen p-6">
    <form
      action="https://test.salesforce.com/servlet/servlet.WebToLead?encoding=UTF-8&orgId=00DU7000006EuID"

      
      method="POST"
      class="bg-white p-8 rounded-2xl shadow-md w-full max-w-xl space-y-6"
    >
      <h2 class="text-2xl font-bold text-center text-gray-800">
        Progressive Form
      </h2>

      <input type="hidden" name="oid" value="00DU7000006EuID" />
      <input type="hidden" name="recordType" id="recordType" value="012U7000003Hjv3IAC" />
      <input
        type="hidden"
        name="retURL"
        value="https://bennettandporter.com/"
      />

      <div>
        <label for="first_name" class="block text-sm font-medium text-gray-700"
          >First Name</label
        >
        <input
          type="text"
          id="first_name"
          name="first_name"
          maxlength="40"
          required
          class="mt-1 w-full p-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500"
        />
      </div>

      <div>
        <label for="last_name" class="block text-sm font-medium text-gray-700"
          >Last Name</label
        >
        <input
          type="text"
          id="last_name"
          name="last_name"
          maxlength="80"
          required
          class="mt-1 w-full p-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500"
        />
      </div>
      <div>
        <label for="company" class="block text-sm font-medium text-gray-700">Company</label>
        <input
          type="text"
          id="company"
          name="company"
          required
          class="mt-1 w-full p-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500"
        />
      </div>
      <div>
        <label for="status" class="block text-sm font-medium text-gray-700">Lead Status</label>
        <select
          id="status"
          name="status"
          required
          class="mt-1 w-full p-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500"
        >
          <option value="">-- Select --</option>
          <option value="Unqualified">Unqualified</option>
          <option value="New">New</option>
          <option value="Gathering Information">Gathering Information</option>
          <option value="Qualified">Qualified</option>
        </select>
      </div>
      <div>
        <label for="lead_source" class="block text-sm font-medium text-gray-700">Lead Source</label>
        <select
          id="lead_source"
          name="lead_source"
          required
          class="mt-1 w-full p-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500"
        >
          <option value="">-- Select --</option>
          <option value="Call In">Call In</option>
          <option value="Call In (Private Client)">Call In (Private Client)</option>
          <option value="Campaign">Campaign</option>
          <option value="Cross Sell">Cross Sell</option>
          <option value="Cross Sale (Private Client)">Cross Sale (Private Client)</option>
          <option value="Email Referral">Email Referral</option>
          <option value="Facebook">Facebook</option>
          <option value="Phone Call Referral">Phone Call Referral</option>
          <option value="PPC">PPC</option>
          <option value="Recaptured Client">Recaptured Client</option>
          <option value="Web Form">Web Form</option>
          <option value="Web Form (Private Client)">Web Form (Private Client)</option>
          <option value="Web Search">Web Search</option>
          <option value="Wealth Management">Wealth Management</option>
          <option value="Yelp">Yelp</option>
          <option value="Other">Other</option>
        </select>
      </div>
      <div>
        <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
        <input
          type="email"
          id="email"
          name="email"
          required
          class="mt-1 w-full p-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500"
        />
      </div>
      
      <div>
        <label for="phone" class="block text-sm font-medium text-gray-700">Phone</label>
        <input
          type="tel"
          id="phone"
          name="phone"
          required
          class="mt-1 w-full p-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500"
        />
      </div>

      <div>
        <label
          for="00NU7000005zuX3"
          class="block text-sm font-medium text-gray-700"
          >Policy Number</label
        >
        <input
          type="text"
          id="00NU7000005zuX3"
          name="00NU7000005zuX3"
          class="mt-1 w-full p-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500"
        />
      </div>
                  
      

      <div>
        <label
          for="00NU7000005zuNN"
          class="block text-sm font-medium text-gray-700"
          >Policy Action</label
        >
        <select
          id="00NU7000005zuNN"
          name="00NU7000005zuNN"
          class="mt-1 w-full p-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500"
        >
          <option value="">--None--</option>
          <option value="Add Vehicle">Add Vehicle</option>
          <option value="Replace Vehicle">Replace Vehicle</option>
          <option value="Remove Vehicle">Remove Vehicle</option>
          <option value="Add Driver">Add Driver</option>
          <option value="Remove Driver">Remove Driver</option>
          <option value="Update Address">Update Address</option>
          <option value="ID Card">ID Card</option>
          <option value="EOI">EOI</option>
          <option value="Billing Info">Billing Info</option>
        </select>
      </div>

      <!-- Add Vehicle Section -->
      <div
        id="addVehicleSection"
        class="hidden space-y-4 border p-4 rounded-xl bg-gray-50"
      >
        <div id="initialInfoSection" class="space-y-4">
          

          <div>
            <label
              for="00NU7000005zsLb"
              class="block text-sm font-medium text-gray-700"
              >Agent Name</label
            >
            <input
              type="text"
              id="00NU7000005zsLb"
              name="00NU7000005zsLb"
              maxlength="100"
              class="mt-1 w-full p-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500"
            />
          </div>

          <div>
            <label
              for="00NU7000005zuLl"
              class="block text-sm font-medium text-gray-700"
              >Date to add vehicle</label
            >
            <input
              type="date"
              id="00NU7000005zuLl"
              name="00NU7000005zuLl"
              class="mt-1 w-full p-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500"
            />
          </div>

          <div>
            <label
              for="requester"
              class="block text-sm font-medium text-gray-700"
              >Requester</label
            >
            <select
              id="requester"
              name="requester"
              class="mt-1 w-full p-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500"
            >
              <option value="">-- Select Option --</option>
              <option value="Named Insured">Named Insured</option>
              <option value="Other Lienholder">Other Lienholder</option>
              <option value="Other Additional Interest">
                Other Additional Interest
              </option>
              <option value="Other">Other</option>
            </select>
          </div>

          <div id="requesterNameWrapper" class="hidden">
            <label
              for="requester_name"
              class="block text-sm font-medium text-gray-700"
              >Requester Name</label
            >
            <input
              type="text"
              id="requester_name"
              name="requester_name"
              class="mt-1 w-full p-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500"
            />
          </div>
        </div>

        <div id="vinSection" class="hidden">
          <label
            for="00NU700000616Sv"
            class="block text-sm font-medium text-gray-700"
            >VIN Number</label
          >
          <input
            type="text"
            id="00NU700000616Sv"
            name="00NU700000616Sv"
            class="mt-1 w-full p-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500"
          />
        </div>

        <div id="vehicleDetailsSection" class="hidden space-y-4">
          <div>
            <label
              for="00NU700000616UX"
              class="block text-sm font-medium text-gray-700"
              >Year</label
            >
            <input
              type="number"
              id="00NU700000616UX"
              name="00NU700000616UX"
              class="mt-1 block w-full p-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500"
            />
          </div>
          <div>
            <label
              for="00NU700000616W9"
              class="block text-sm font-medium text-gray-700"
              >Make</label
            >
            <input
              type="text"
              id="00NU700000616W9"
              name="00NU700000616W9"
              class="mt-1 block w-full p-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500"
            />
          </div>
          <div>
            <label
              for="00NU700000616Xl"
              class="block text-sm font-medium text-gray-700"
              >Model</label
            >
            <input
              type="text"
              id="00NU700000616Xl"
              name="00NU700000616Xl"
              class="mt-1 block w-full p-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500"
            />
          </div>
        </div>
      </div>

      <button
        type="submit"
        class="w-full bg-blue-600 text-white font-semibold py-2 px-4 rounded-xl hover:bg-blue-700 transition"
      >
        Submit
      </button>
    </form>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const policyActionSelect = document.getElementById("00NU7000005zuNN");
        const policyNumberInput = document.getElementById("00NU7000005zvOn");
        const agentNameInput = document.getElementById("00NU7000005zsLb");
        const dateInput = document.getElementById("00NU7000005zuLl");
        const vinInput = document.getElementById("00NU700000616Sv");
        const yearInput = document.getElementById("00NU700000616UX");
        const makeInput = document.getElementById("00NU700000616W9");
        const modelInput = document.getElementById("00NU700000616Xl");
        const requesterSelect = document.getElementById("requester");
        const requesterNameWrapper = document.getElementById("requesterNameWrapper");
        const requesterNameInput = document.getElementById("requester_name");
        const vinSection = document.getElementById("vinSection");
        const vehicleDetailsSection = document.getElementById("vehicleDetailsSection");

        const sections = {
          "Add Vehicle": "addVehicleSection",
          "Replace Vehicle": "replaceVehicleSection",
          "Remove Vehicle": "removeVehicleSection",
          "Add Driver": "addDriverSection",
          "Remove Driver": "removeDriverSection",
          "Update Address": "updateAddressSection",
          "ID Card": "idCardSection",
          "EOI": "eoiSection",
          "Billing Info": "billingInfoSection",
        };

        function updateVisibleSection() {
          const selected = policyActionSelect.value;
          Object.values(sections).forEach((id) => {
            const section = document.getElementById(id);
            if (section) section.classList.add("hidden");
          });
          if (sections[selected]) {
            const section = document.getElementById(sections[selected]);
            if (section) section.classList.remove("hidden");
          }
          updateVinVisibility();
          updateVehicleDetailsVisibility();
        }

        function updateRequesterVisibility() {
          if (requesterSelect && requesterSelect.value !== "Named Insured") {
            requesterNameWrapper.classList.remove("hidden");
          } else {
            requesterNameWrapper.classList.add("hidden");
          }
        }

        function isFilled(input) {
          return input && input.value.trim() !== "";
        }

        function updateVinVisibility() {
          if (isFilled(policyNumberInput) && isFilled(agentNameInput) && isFilled(dateInput)) {
            vinSection.classList.remove("hidden");
          } else {
            vinSection.classList.add("hidden");
          }
        }

        function updateVehicleDetailsVisibility() {
          if (isFilled(vinInput)) {
            vehicleDetailsSection.classList.remove("hidden");
          } else {
            vehicleDetailsSection.classList.add("hidden");
          }
        }

        [policyNumberInput, agentNameInput, dateInput].forEach((input) =>
          input.addEventListener("input", updateVinVisibility)
        );
        vinInput.addEventListener("input", updateVehicleDetailsVisibility);
        if (requesterSelect) {
          requesterSelect.addEventListener("change", updateRequesterVisibility);
        }

        policyActionSelect.addEventListener("change", updateVisibleSection);

        document.querySelector("form").addEventListener("submit", function (e) {
          let errors = [];
          if (!isFilled(policyNumberInput)) errors.push("Policy Number is required.");
          if (!isFilled(agentNameInput)) errors.push("Agent Name is required.");
          if (!isFilled(dateInput)) errors.push("Date to add vehicle is required.");
          if (!vinSection.classList.contains("hidden") && !isFilled(vinInput)) {
            errors.push("VIN Number is required.");
          }
          if (!vehicleDetailsSection.classList.contains("hidden")) {
            if (!isFilled(yearInput)) errors.push("Year is required.");
            if (!isFilled(makeInput)) errors.push("Make is required.");
            if (!isFilled(modelInput)) errors.push("Model is required.");
          }
          if (requesterSelect && requesterSelect.value !== "Named Insured" && !isFilled(requesterNameInput)) {
            errors.push("Requester Name is required.");
          }
          if (errors.length > 0) {
            e.preventDefault();
            alert("Please correct the following:\n\n" + errors.join("\n"));
          }
        });

        updateVisibleSection();
        updateRequesterVisibility();
      });
    </script>
  </body>
</html>
